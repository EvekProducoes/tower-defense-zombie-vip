<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta
      name="description"
      content="Tower Defense - Defenda-se contra hordas de zumbis!"
    />
    <title>Tower Defense Zombie ViP</title>
    <link rel="stylesheet" href="css/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Screen Overlay para Loading -->
    <div id="loading-screen">
      <div class="loading-content">
        <div class="skull-icon">‚ò†Ô∏è</div>
        <h1 class="loading-title">TOWER DEFENSE ZOMBIE ViP</h1>
        <div class="loading-bar">
          <div class="loading-progress"></div>
        </div>
        <p class="loading-text">Carregando arsenal...</p>
      </div>
    </div>

    <!-- Main Menu -->
    <div id="main-menu" class="screen">
      <div class="menu-container">
        <div class="title-container">
          <div class="glitch-wrapper">
            <h1 class="game-title glitch" data-text="TOWER DEFENSE ZOMBIE ViP">
              TOWER DEFENSE ZOMBIE ViP
            </h1>
          </div>
          <p class="subtitle">GUERRA APOCAL√çPTICA</p>
        </div>

        <!-- Grid Size Selector -->
        <div class="grid-selector">
          <h3 class="selector-title">‚öôÔ∏è TAMANHO DO CAMPO</h3>
          <div class="grid-options">
            <div class="grid-option" data-size="medium" onclick="selectGridSize('medium')">
              <div class="grid-icon">üì±</div>
              <div class="grid-name">M√âDIO</div>
              <div class="grid-desc">15x10</div>
            </div>
            <div class="grid-option active" data-size="large" onclick="selectGridSize('large')">
              <div class="grid-icon">üì≤</div>
              <div class="grid-name">GRANDE</div>
              <div class="grid-desc">20x12</div>
            </div>
            <div class="grid-option" data-size="huge" onclick="selectGridSize('huge')">
              <div class="grid-icon">üñ•Ô∏è</div>
              <div class="grid-name">ENORME</div>
              <div class="grid-desc">25x15</div>
            </div>
          </div>
        </div>

        <div class="menu-buttons">
          <button class="btn btn-primary" onclick="startGame()">
            <span class="btn-icon">‚ñ∂</span> INICIAR BATALHA
          </button>
          <button class="btn btn-secondary" onclick="showTutorial()">
            <span class="btn-icon">?</span> TUTORIAL
          </button>
          <button class="btn btn-secondary" onclick="showLeaderboard()">
            <span class="btn-icon">üèÜ</span> RECORDES
          </button>
        </div>

        <div class="menu-stats">
          <div class="stat-card">
            <div class="stat-value" id="menu-best-wave">0</div>
            <div class="stat-label">MELHOR ONDA</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="menu-total-kills">0</div>
            <div class="stat-label">ZUMBIS MORTOS</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="screen" style="display: none">
      <!-- Top HUD -->
      <div id="top-hud">
        <div class="hud-left">
          <div class="hud-item">
            <span class="hud-icon">‚ù§Ô∏è</span>
            <span class="hud-label">VIDAS:</span>
            <span class="hud-value" id="lives">20</span>
          </div>
          <div class="hud-item">
            <span class="hud-icon">üí∞</span>
            <span class="hud-label">$</span>
            <span class="hud-value" id="money">150</span>
          </div>
        </div>

        <div class="hud-center">
          <div class="wave-indicator">
            <div class="wave-label">ONDA</div>
            <div class="wave-number" id="wave-number">1</div>
          </div>
        </div>

        <div class="hud-right">
          <div class="hud-item">
            <span class="hud-label">SCORE:</span>
            <span class="hud-value" id="score">0</span>
          </div>
          <button class="btn-icon-only" onclick="togglePause()" title="Pausar">
            <span id="pause-icon">‚è∏</span>
          </button>
        </div>
      </div>

      <!-- Game Canvas Container -->
      <div id="game-container">
        <canvas id="gameCanvas"></canvas>

        <!-- Game Messages Overlay -->
        <div id="game-overlay" style="display: none">
          <div class="overlay-content">
            <h2 id="overlay-title">GAME OVER</h2>
            <p id="overlay-message">
              Voc√™ sobreviveu at√© a onda <span id="final-wave">1</span>
            </p>
            <p class="overlay-score">
              Score Final: <span id="final-score">0</span>
            </p>
            <div class="overlay-buttons">
              <button class="btn btn-primary" onclick="resetGame()">
                JOGAR NOVAMENTE
              </button>
              <button class="btn btn-secondary" onclick="backToMenu()">
                MENU PRINCIPAL
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Bottom HUD - Tower Selection -->
      <div id="bottom-hud">
        <div class="tower-selection">
          <div
            class="tower-card"
            data-type="gatling"
            onclick="selectTowerType('gatling')"
          >
            <div class="tower-icon">üî´</div>
            <div class="tower-name">GATLING</div>
            <div class="tower-cost">$50</div>
            <div class="tower-stats">
              <small>Dano: 5 | Vel: Alta</small>
            </div>
          </div>

          <div
            class="tower-card"
            data-type="tesla"
            onclick="selectTowerType('tesla')"
          >
            <div class="tower-icon">‚ö°</div>
            <div class="tower-name">TESLA</div>
            <div class="tower-cost">$100</div>
            <div class="tower-stats">
              <small>Dano: 15 | √Årea</small>
            </div>
          </div>

          <div
            class="tower-card"
            data-type="sniper"
            onclick="selectTowerType('sniper')"
          >
            <div class="tower-icon">üéØ</div>
            <div class="tower-name">SNIPER</div>
            <div class="tower-cost">$80</div>
            <div class="tower-stats">
              <small>Dano: 40 | Longo</small>
            </div>
          </div>
        </div>

        <!-- Power-ups Section -->
        <div class="powerup-selection" id="powerup-panel">
          <div class="powerup-card" data-type="slowmo" onclick="usePowerUp('slowmo')" title="Slow Motion: Reduz velocidade dos zumbis em 50%">
            <div class="powerup-icon">‚è±Ô∏è</div>
            <div class="powerup-cost">$100</div>
            <div class="powerup-cooldown" id="cooldown-slowmo"></div>
          </div>
          <div class="powerup-card" data-type="nuke" onclick="usePowerUp('nuke')" title="Bomba Nuclear: Elimina todos os zumbis">
            <div class="powerup-icon">üí£</div>
            <div class="powerup-cost">$200</div>
            <div class="powerup-cooldown" id="cooldown-nuke"></div>
          </div>
          <div class="powerup-card" data-type="cash" onclick="usePowerUp('cash')" title="Chuva de Dinheiro: +$150">
            <div class="powerup-icon">üí∞</div>
            <div class="powerup-cost">$50</div>
            <div class="powerup-cooldown" id="cooldown-cash"></div>
          </div>
          <div class="powerup-card" data-type="repair" onclick="usePowerUp('repair')" title="Kit M√©dico: +5 vidas">
            <div class="powerup-icon">‚ù§Ô∏è</div>
            <div class="powerup-cost">$150</div>
            <div class="powerup-cooldown" id="cooldown-repair"></div>
          </div>
        </div>

        <div class="wave-controls">
          <button
            class="btn btn-wave"
            id="start-wave-btn"
            onclick="startNextWave()"
          >
            <span class="btn-icon">‚öîÔ∏è</span> INICIAR ONDA
            <span id="next-wave-num">1</span>
          </button>
        </div>
      </div>

      <!-- Tower Upgrade Panel -->
      <div id="upgrade-panel" style="display: none">
        <div class="upgrade-content">
          <div class="upgrade-header">
            <h3 id="upgrade-tower-name">TORRE GATLING</h3>
            <button class="btn-close" onclick="closeUpgradePanel()">‚úï</button>
          </div>
          <div class="upgrade-stats">
            <div class="stat-row">
              <span class="stat-label">N√≠vel:</span>
              <span class="stat-value" id="upgrade-level">1</span>
            </div>
            <div class="stat-row">
              <span class="stat-label">Dano:</span>
              <span class="stat-value" id="upgrade-damage">10</span>
            </div>
            <div class="stat-row">
              <span class="stat-label">Alcance:</span>
              <span class="stat-value" id="upgrade-range">100</span>
            </div>
            <div class="stat-row">
              <span class="stat-label">Velocidade:</span>
              <span class="stat-value" id="upgrade-speed">1.0x</span>
            </div>
          </div>
          <div class="upgrade-actions">
            <button
              class="btn btn-upgrade"
              id="btn-upgrade"
              onclick="upgradeTower()"
            >
              <span>MELHORAR ($<span id="upgrade-cost">50</span>)</span>
            </button>
            <button class="btn btn-sell" onclick="sellTower()">
              VENDER ($<span id="sell-cost">25</span>)
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Tutorial Modal -->
    <div id="tutorial-modal" class="modal" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h2>üìö TUTORIAL</h2>
          <button class="btn-close" onclick="closeTutorial()">‚úï</button>
        </div>
        <div class="modal-body">
          <div class="tutorial-section">
            <h3>üéØ Objetivo</h3>
            <p>
              Impe√ßa que os zumbis cheguem ao final do caminho! Cada zumbi que
              escapar reduz suas vidas.
            </p>
          </div>
          <div class="tutorial-section">
            <h3>üóº Torres</h3>
            <ul>
              <li><strong>GATLING (üî´):</strong> Disparo r√°pido, dano m√©dio</li>
              <li><strong>TESLA (‚ö°):</strong> Ataque em √°rea, alto dano</li>
              <li><strong>SNIPER (üéØ):</strong> Longo alcance, dano m√°ximo</li>
            </ul>
          </div>
          <div class="tutorial-section">
            <h3>üßü Inimigos</h3>
            <ul>
              <li><strong>Zumbi Normal:</strong> Velocidade e vida m√©dia</li>
              <li><strong>Zumbi R√°pido:</strong> Mais veloz, menos vida</li>
              <li><strong>Zumbi Tanque:</strong> Muito resistente, lento</li>
            </ul>
          </div>
          <div class="tutorial-section">
            <h3>üéÆ Como Jogar</h3>
            <ol>
              <li>Selecione uma torre no painel inferior</li>
              <li>Clique no grid para posicionar (n√£o bloqueie o caminho!)</li>
              <li>Clique em torres existentes para melhorar ou vender</li>
              <li>Inicie ondas para ganhar dinheiro e score</li>
            </ol>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary" onclick="closeTutorial()">
            ENTENDI!
          </button>
        </div>
      </div>
    </div>

    <!-- Leaderboard Modal -->
    <div id="leaderboard-modal" class="modal" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h2>üèÜ RECORDES</h2>
          <button class="btn-close" onclick="closeLeaderboard()">‚úï</button>
        </div>
        <div class="modal-body">
          <div class="leaderboard-stats">
            <div class="lb-stat">
              <div class="lb-label">Melhor Onda</div>
              <div class="lb-value" id="lb-best-wave">0</div>
            </div>
            <div class="lb-stat">
              <div class="lb-label">Maior Score</div>
              <div class="lb-value" id="lb-best-score">0</div>
            </div>
            <div class="lb-stat">
              <div class="lb-label">Total de Kills</div>
              <div class="lb-value" id="lb-total-kills">0</div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="closeLeaderboard()">
            FECHAR
          </button>
        </div>
      </div>
    </div>

    <!-- Footer Copyright -->
    <div id="footer-copyright" style="position: fixed; bottom: 5px; left: 50%; transform: translateX(-50%); color: rgba(255,255,255,0.5); font-size: 11px; text-align: center; z-index: 1; pointer-events: none;">
      ¬© 2025 Dev.EMFranco - Todos os direitos reservados.
    </div>

    <!-- Scripts -->
    <script src="js/game.js"></script>
    <script src="js/towers.js"></script>
    <script src="js/enemies.js"></script>
    <script src="js/pathfinding.js"></script>
    <script src="js/particles.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/admob.js"></script>
    <script src="js/powerups.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
